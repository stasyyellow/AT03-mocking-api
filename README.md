# AT03-mocking-api
 Мокирование и тестирование API


✅ Мокирование (mocking) — это техника в тестировании, позволяющая имитировать поведение реальных объектов. Это полезно, когда необходимо тестировать компоненты системы, зависящие от внешних сервисов, API или сложных объектов, которые трудно или невозможно использовать напрямую в тестах.

При создании программ они часто взаимодействуют с другими частями системы или внешними сервисами, такими как API, базы данных и так далее. При тестировании мы должны быть уверены, что наша программа работает правильно, даже если внешние сервисы недоступны или работают нестабильно. Мокирование позволяет нам притвориться, что внешние сервисы работают так, как нам нужно, даже если это не так. Мы как бы создаем фальшивый сервис, который возвращает предопределенные ответы, которые мы сами задаем, и эти ответы используем в нашей программе.


Основные понятия в мокировании

✅ Mock-объект — объект, имитирующий поведение реального объекта или сервиса.

✅ Patch — изменение поведения функции или объекта во время выполнения теста.

✅ Spy — объект, записывающий информацию о вызовах, методах и параметрах.

✅Stub — реализация интерфейса, возвращающая предопределенные данные.


ЗАДАНИЕ
- Напишите функцию, которая делает запрос к TheCatAPI для получения случайного изображения кошки.
https://api.thecatapi.com/v1/images/search

- Напишите тест, который проверяет успешный запрос и возвращает правильный URL.

- Напишите тест, который проверяет неуспешный запрос (например, статус код 404) и возвращает `None`.


RESULT
"C:\_Python AI\github\AT03-mocking-api\.venv\Scripts\python.exe" "C:/Program Files/JetBrains/PyCharm Community Edition 2023.1/plugins/python-ce/helpers/pycharm/_jb_pytest_runner.py" --target test.py::test_successful_cat_image_request 
Testing started at 20:18 ...
Launching pytest with arguments test.py::test_successful_cat_image_request --no-header --no-summary -q in C:\_Python AI\github\AT03-mocking-api

============================= test session starts =============================
collecting ... collected 1 item

test.py::test_successful_cat_image_request PASSED                        [100%]

============================== 1 passed in 5.20s ==============================

Process finished with exit code 0